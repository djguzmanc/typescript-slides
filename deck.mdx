import {
  CodeSurfer,
  CodeSurferColumns,
  Step,
} from "code-surfer";
import { github, vsDark } from "@code-surfer/themes";
import Question from './components/Question/Question';
import Answer from './components/Answer/Answer';
import Wildcard from './components/Wildcard/Wildcard';
import WildcardSet from './components/WildcardSet/WildcardSet';
import { 
  pluckError,
  pluckSuggestion,
  neverError,
  asConstError,
  guardSuggestion
} from './assets/images/ts-intellisense/index';

export const theme = vsDark;

# Hello üëã

You are using [MDX Deck](https://github.com/jxnblk/mdx-deck) and [Code Surfer](https://codesurfer.pomb.us)

---

<WildcardSet>
  <Wildcard type="PHONE" used />
  <Wildcard type="PUBLIC" selected />
  <Wildcard type="FIFTY" />
</WildcardSet>

---

<Question question={
  <span>
    Sin m√≠ no podr√≠as ejecutar algo de l√≥gica antes del m√©todo
    original
  </span>
}>
  <Answer>
    <span>Ctrl + C, Ctrl + V</span>
  </Answer>
  <Answer>
    <span>Decorador</span>
  </Answer>
  <Answer>
    <span>Una partida de Warzone</span>
  </Answer>
  <Answer>
    <span>Un <i>if</i></span>
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="Decorator example"
class FancyComponent {
  deleteUserFromDb(userId: string): void {
    // Delete the user 
  }
}
```

```ts title="Decorator example"
class FancyComponent {
  deleteUserFromDb(userId: string): void {
    // Delete the user 
  }
}

function AreYouSure(prompt: string) {
  return function (
    target: any,
    propertyKey: string,
    descriptor: PropertyDescriptor
  ) {
    let originalMethod = descriptor.value;

    descriptor.value = function (...args: any[]) {
      const confirmation = confirm(prompt);

      if (confirmation) {
        let result = originalMethod.apply(this, args);
        return result;
      }
    }
  }
}
```

```diff 8:23
```

```diff 7
```

```diff 7[21:34],16[36:41]
```

```diff 13
```

```diff 15
```

```diff 16
```

```diff 18[11:22]
```

```diff 19:20
```

```ts title="Decorator example"
class FancyComponent {
  deleteUserFromDb(userId: string): void {
    // Delete the user 
  }
}
```

```ts title="Decorator example"
class FancyComponent {
  @AreYouSure('This action cannot be rolled back')
  deleteUserFromDb(userId: string): void {
    // Delete the user 
  }
}
```

</CodeSurfer>

---

<Question question={
  <span>
    Me sol√≠an llamar operador diamante, pero soy m√°s que eso, y soy el √∫nico que
    nunca te juzgar√° por generalizar
  </span>
}>
  <Answer>
    <span>Tipo de variable <i>any</i></span>
  </Answer>
  <Answer>
    <span>Tipo de variable <i>unknown</i></span>
  </Answer>
  <Answer>
    <span>Tipo de variable <i>T</i></span>
  </Answer>
  <Answer>
    <span>Todos los Web UI son iguales üôÑ</span>
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="Generics Example"
type HTTPResponse = {
  status: number;
  body: any;
  url: string;
  headers: { [key: string]: string };
}
```

```ts title="Generics Example"
type HTTPResponse = {
  status: number;
  body: any;
  url: string;
  headers: { [key: string]: string };
}

const response: HTTPResponse = {
  body: { user: 'Julian', id: 1 },
  headers: { Auth: 'jwt' },
  status: 200,
  url: 'http://api.com/fixTheBug'
};
```

```diff 3[9:11],9[9:33]
```

```ts title="Generics Example"
type HTTPResponse = {
  status: number;
  body: any;
  url: string;
  headers: { [key: string]: string };
}

const response: HTTPResponse = {
  body: { user: 'Julian', id: 1 },
  headers: { Auth: 'jwt' },
  status: 200,
  url: 'http://api.com/fixTheBug'
};

response.body.notAProp; // ‚ò†Ô∏è
```

```ts title="Generics Example"
type HTTPResponse<T> = {
  status: number;
  body: T;
  url: string;
  headers: { [key: string]: string };
}
```

```ts title="Generics Example"
type HTTPResponse<T> = {
  status: number;
  body: T;
  url: string;
  headers: { [key: string]: string };
}

const genericResponse: GenericHTTPResponse<{
  user: string,
  id: number,
}> = {
  body: { user: 'Julian', id: 1 },
  headers: { Auth: 'jwt' },
  status: 200,
  url: 'http://api.com/fixTheBug'
};
```

```diff 8[44],9:10,11[1],12[9:33]
```

```ts title="Generics Example"
type HTTPResponse<T> = {
  status: number;
  body: T;
  url: string;
  headers: { [key: string]: string };
}

const genericResponse: GenericHTTPResponse<{
  user: string,
  id: number,
}> = {
  body: { user: 'Julian', id: 1 },
  headers: { Auth: 'jwt' },
  status: 200,
  url: 'http://api.com/fixTheBug'
};

// TS complains üí•
genericResponse.body.notAProp;
```

```ts title="Generics Example"
type ConstrainedHTTPResponse<T extends object> = {
  status: number;
  body: T;
  url: string;
  headers: { [key: string]: string };
}
```

```diff 1[32:45]
```

```ts title="Generics Example"
type ConstrainedHTTPResponse<T extends object> = {
  status: number;
  body: T;
  url: string;
  headers: { [key: string]: string };
}

// Type 'string' does not satisfy the constraint 'object'.
const constrainedResponse: ConstrainedHTTPResponse<string> = {
  body: '',
  headers: { Auth: 'jwt' },
  status: 200,
  url: 'http://api.com/fixTheBug'
};
```

```diff 8,9[52:57]
```

```ts title="Generics Example"
type MappedHTTPResponse<T extends object, K = Partial<T>> = {
  status: number;
  body: K;
  url: string;
  headers: { [key: string]: string };
}
```

</CodeSurfer>

---

<Question question={
  <span>
    Si grazna como un pato, camina como un pato y se comporta como un pato, entonces
    es un <i>string</i>
  </span>
}>
  <Answer>
    if (obj === ü¶Ü) {'{'}<br />
      &nbsp;&nbsp;// Quack!<br />
    }
  </Answer>
  <Answer>
    if (obj is ü¶Ü) {'{'}<br />
      &nbsp;&nbsp;// Quack!<br />
    }
  </Answer>
  <Answer>
    if (obj instanceof ü¶Ü) {'{'}<br />
      &nbsp;&nbsp;// Quack!<br />
    }
  </Answer>
  <Answer>
    <span style={{ fontSize: '30px' }}>
      function (obj: unknown): obj is ü¶Ü {'{'}<br />
        &nbsp;&nbsp;if (obj.quack) return true;<br />
      }<br /><br />
      
      function assert(obj: unknown): asserts obj is ü¶Ü {'{'}<br />
        &nbsp;&nbsp;if (!obj.quack) throw new Error("Not a ü¶Ü");<br />
      }
    </span>
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="Type guard example"
// ezpz üçã squeezy

function someFn(param: string | number) {
  if (typeof param === 'string') {
    param.toLocaleLowerCase();
  } else {
    param.toExponential();
  }
}
```

```diff 4[7:31]
```

```diff 5[11:29]
```

```diff 7[11:25]
```

```ts title="Type guard example"
type Animal = {
  name: string;
  isDomestic: boolean;
}

type Vehicle = {
  wheels: number;
  isAutomatic: boolean;
}
```

```ts title="Type guard example"
type Animal = {
  name: string;
  isDomestic: boolean;
}

type Vehicle = {
  wheels: number;
  isAutomatic: boolean;
}

function pleaseMergeThis(param: unknown) {
  if (isAnimal(param)) {
    console.log(param.isDomestic);
  } else if (isVehicle(param)) {
    console.log(param.isAutomatic);
  }
}
```

```diff 12[7:21],14[14:29]
```

```ts title="Type guard example"
function isAnimal(obj: unknown): obj is Animal {
  if ((obj as object).hasOwnProperty('name')) return true;
  return false;
}

function isVehicle(obj: unknown): obj is Vehicle {
  if ((obj as object).hasOwnProperty('wheels')) return true;
  return false;
}
```

```diff 1[34:46],6[35:48]
```

```diff
```

```ts title="Type guard example"
function pleaseMergeThis(param: unknown) {
  if (isAnimal(param)) {
    console.log(param.isDomestic);
  } else if (isVehicle(param)) {
    console.log(param.isAutomatic);
  }
}
```

```diff 1[26:39]
```

```diff 3[17:32],5[17:33]
```

```ts title="Type guard example"
// Don't you like the ifs? üòë
```

```ts title="Type guard example"
// Don't you like the ifs? üòë
function onLineGuard(obj: unknown): asserts obj is Vehicle {
  if (!(obj as object).hasOwnProperty('wheels'))
    throw new Error("Not a Vehicle!");
}
```

```ts title="Type guard example"
// Don't you like the ifs? üòë
function onLineGuard(obj: unknown): asserts obj is Vehicle {
  if (!(obj as object).hasOwnProperty('wheels'))
    throw new Error("Not a Vehicle!");
}

function someFn3(param: unknown) {
  onLineGuard(param);
  console.log(param.isAutomatic);
}
```

```diff 2[37:58],4,8
```

</CodeSurfer>

---

### Type guard Suggestion

<img src={guardSuggestion} />

---

<Question question={
  <span>
    Si no existieran librer√≠as como <i>Immutable.js</i>, yo ser√≠a tu
    √∫nica opci√≥n
  </span>
}>
  <Answer>
    const obj: readonly = {'{'}<br />
      &nbsp;&nbsp;hello: 'world'<br />
    };
  </Answer>
  <Answer>
    const readonly obj = {'{'}<br />
      &nbsp;&nbsp;hello: 'world'<br />
    };
  </Answer>
  <Answer>
    const obj = {'{'}<br />
      &nbsp;&nbsp;hello: 'world'<br />
    } as const;
  </Answer>
  <Answer>
    const obj = {'{'}<br />
      &nbsp;&nbsp;hello: 'world'<br />
    };<br />
    
    Typescript.freeze(obj);
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="as const Example"
const anObjectThatNobodyShouldModify = {
  transactionAmount: 1200, // ü§ë
  isApproved: true,
  to: {
    name: 'Mauricio',
    id: 'üòõ'
  }
};
```

```ts title="as const Example"
const anObjectThatNobodyShouldModify = {
  transactionAmount: 1200, // ü§ë
  isApproved: true,
  to: {
    name: 'Mauricio',
    id: 'üòõ'
  }
};

// Is allowed to modify the id 
anObjectThatNobodyShouldModify.to.id = 'üíÄ';
```

```ts title="as const Example"
const anObjectThatNobodyShouldModify = {
  transactionAmount: 1200, // ü§ë
  isApproved: true,
  to: {
    name: 'Mauricio',
    id: 'üòõ'
  }
} as const;

// Typescript complains! ü§©
anObjectThatNobodyShouldModify.to.id = 'üíÄ';
```

```ts title="as const Example"
const anObjectThatNobodyShouldModify = {
  transactionAmount: 1200, // ü§ë
  isApproved: true,
  to: {
    name: 'Mauricio',
    id: 'üòõ'
  }
} as const;

// Typescript complains! ü§©
anObjectThatNobodyShouldModify.to.id = 'üíÄ';

// Typescript 0 - Immutable.js 1 üòî
(anObjectThatNobodyShouldModify as any).to.id = 'üíÄ';
```

</CodeSurfer>

---

### Error
<img src={asConstError} />

---

<Question question={
  <span>
    Podr√≠a marcar la propiedad <i>count</i> como solo lectura y avisarte si
    alguien se atreve a profanarla
  </span>
}>
  <Answer>
    interface MyInterface {'{'}<br />
      &nbsp;&nbsp;niLoPienses count: number;<br />
    }
  </Answer>
  <Answer>
    interface MyInterface {'{'}<br />
      &nbsp;&nbsp;onlyread count: number;<br />
    }
  </Answer>
  <Answer>
    interface MyInterface {'{'}<br />
      &nbsp;&nbsp;F count: number;<br />
    }
  </Answer>
  <Answer>
    interface MyInterface {'{'}<br />
      &nbsp;&nbsp;readonly count: number;<br />
    }
  </Answer>
</Question>

---

<Question question={
  <span>
    No conoces el tipo de un gen√©rico, y yo podr√≠a ser
    √∫til para averiguarlo...
  </span>
}>
  <Answer>
    typeof
  </Answer>
  <Answer>
    instanceof
  </Answer>
  <Answer>
    infer
  </Answer>
  <Answer>
    F
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="infer Example"
const data = ['hello', 12, { world: null }];
```

```ts title="infer Example"
const data = ['hello', 12, { world: null }];
typeof data; // (string | number | { world: null })[]
```

```ts title="infer Example"
const data = ['hello', 12, { world: null }];
typeof data; // (string | number | { world: null })[]
const valueWithType: string | number | { world: null } = data[0];
```

```diff 2[18:50],3[22:55]
```

```ts title="infer Example"
const data = ['hello', 12, { world: null }];
typeof data; // (string | number | { world: null })[]
const valueWithType: string | number | { world: null } = data[0];

typeof data[0]; 
// Please don't ü§¢
```

```ts title="infer Example"
const data = ['hello', 12, { world: null }];
typeof data; // (string | number | { world: null })[]
const valueWithType: string | number | { world: null } = data[0];

typeof data[0]; 
// Please don't ü§¢

type FlattenArray<T> = T extends Array<infer R> ? R : T;
```

```diff 8[18:20]
```

```diff 8[24:48]
```

```diff 8[51]
```

```diff 8[55]
```

```ts title="infer Example"
const data = ['hello', 12, { world: null }];
typeof data; // (string | number | { world: null })[]
const valueWithType: string | number | { world: null } = data[0];

typeof data[0]; 
// Please don't ü§¢

type FlattenArray<T> = T extends Array<infer R> ? R : T;

const array = ['hello', 3];
const innerValue: FlattenArray<typeof array> = array[0];
// string | number
```

```diff 11[32:43]
```

```ts title="infer Example"
const data = ['hello', 12, { world: null }];
typeof data; // (string | number | { world: null })[]
const valueWithType: string | number | { world: null } = data[0];

typeof data[0]; 
// Please don't ü§¢

type FlattenArray<T> = T extends Array<infer R> ? R : T;

const array = ['hello', 3];
const innerValue: FlattenArray<typeof array> = array[0];
// string | number

const data = ['hello', 12, { world: null }];
const value2: FlattenArray<typeof data> = array[0];
// string | number | { world: null }
```

```diff
```

</CodeSurfer>

---

<Question question={<span>Para que sirve el operador <i>keyof</i></span>}>
  <Answer>
    Retorna true si la llave existe dentro de un objeto
  </Answer>
  <Answer>
    Hacer cast a una variable
  </Answer>
  <Answer>
    Iterar las llaves de un objeto
  </Answer>
  <Answer>
    Retorna un type que contiene todas las llaves de un objeto
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="keyof Example"
const pluck = (obj, keyName) => {
  return obj[keyName];
}

const pluckedName = pluck({ 
  name: 'Julian', 
  age: 26
}, 'name');

console.log(pluckedName);
// Julian
```

```ts title="keyof Example"
type SmartGuy = { 
  name: string, 
  age: number
};
const pluck = (obj: SmartGuy, keyName: 'name' | 'age') => {
  return obj[keyName];
}

const pluckedName = pluck({ 
  name: 'Julian', 
  age: 26
}, 'name');

console.log(pluckedName);
// Julian
```

```diff 5[31:54]
```

```ts title="keyof Example"
type SmartGuy = { 
  name: string, 
  age: number
};
const pluck = (obj: SmartGuy, keyName: keyof SmartGuy) => {
  return obj[keyName];
}

const pluckedName = pluck({ 
  name: 'Julian', 
  age: 26
}, 'name');

console.log(pluckedName);
// Julian
```

```diff 5[40:54]
```

```diff 12[4:9]
```

</CodeSurfer>

---

### Error
<img src={pluckError} />

### Suggestion
<img src={pluckSuggestion} />

---

<Question question={
  "Cu√°l es la sintaxis para iterar todas las propiedades de otro objeto"
}>
  <Answer>
    type MyType {'{'} <br />
      &nbsp;&nbsp;[P in keyof OtherType]: OtherType[P]<br />
    {'}'}
  </Answer>
  <Answer>
    type MyType {'{'} <br />
      &nbsp;&nbsp;[key in OtherType]: OtherType[key]<br />
    {'}'}
  </Answer>
  <Answer>
    <span style={{ fontSize: '40px' }}>
      type MyType {'{'} <br />
        &nbsp;&nbsp;[foreach key in OtherType]: OtherType[key]<br />
      {'}'}
    </span>
  </Answer>
  <Answer>
    type MyType {'{'} <br />
      &nbsp;&nbsp;[OtherType: key]: OtherType[key]<br />
    {'}'}
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="Keys iteration"
type Warrior = {
  strength: number;
  name: string;
  suitColor: string;
};

/**
 * If your tsconfig file is set to strict null checks,
 * this null assign will throw an error
 */
const warrior: Warrior = {
  name: 'Mauricio',
  strength: null,
  suitColor: 'red',
};
```

```ts title="Keys iteration"
type Warrior = {
  strength: number;
  name: string;
  suitColor: string;
};

// Let's make every property nullable!
// Wolololoooooooooo üßô
type ConvertedWarrior = {
  [P in keyof Warrior]: Warrior[P] | null;
}

const warrior: Warrior = {
  name: 'Mauricio',
  strength: null,
  suitColor: 'red',
};
```

```ts title="Keys iteration"
type Warrior = {
  strength: number;
  name: string;
  suitColor: string;
};

// Let's make every property nullable!
// Wolololoooooooooo üßô
type ConvertedWarrior = {
  [P in keyof Warrior]: Warrior[P]?;
}

const warrior: Warrior = {
  name: 'Mauricio',
  strength: null,
  suitColor: 'red',
};
```

```ts title="Keys iteration"
type Warrior = {
  strength: number;
  name: string;
  suitColor: string;
};

// Let's make every property nullable!
// Wolololoooooooooo üßô
type ConvertedWarrior = {
  [P in keyof Warrior]: Warrior[P] | AnotherType;
}

const warrior: Warrior = {
  name: 'Mauricio',
  strength: null,
  suitColor: 'red',
};
```

```ts title="Keys iteration"
type Warrior = {
  strength: number;
  name: string;
  suitColor: string;
};

// Let's make every property nullable!
// Wolololoooooooooo üßô
type ConvertedWarrior = {
  [P in keyof Warrior]: ComplexObj<Warrior[P]>;
}

const warrior: Warrior = {
  name: 'Mauricio',
  strength: null,
  suitColor: 'red',
};
```

</CodeSurfer>

---

<Question question={
  <span>Qu√© significa la palabra reservada <i>never</i></span>
}>
  <Answer>
    Permite que las propiedades de un objeto 
    acepten null o undefined a la vez.
  </Answer>
  <Answer>
    Es un tipo de variable indicando que √©sta nunca tendr√° valor.
  </Answer>
  <Answer>
    Se usa en generics para que un tipo gen√©rico est√© restringido
    a ciertos tipos de variable.
  </Answer>
  <Answer>
    Se usa para que la aplicaci√≥n&nbsp;<i>never</i>&nbsp;falle.
  </Answer>
</Question>

---

<CodeSurfer>

```ts title="never Example"
type Person = {
  role: 'ADMIN' | 'PLAYER' | 'CLIENT',
}
```

```ts title="never Example"
type Person = {
  role: 'ADMIN' | 'PLAYER' | 'CLIENT',
}

const doSomething = (person: Person) => {
  switch (person.role) {
    case 'ADMIN':
      break;
    case 'PLAYER':
      break;
  }
}
```

```ts title="never Example"
type Person = {
  role: 'ADMIN' | 'PLAYER' | 'CLIENT',
}

const doSomething = (person: Person) => {
  switch (person.role) {
    case 'ADMIN':
      break;
    case 'PLAYER':
      break;
    default:
      // Error here ü•≥!
      const a: never = person.role;
  }
}
```

```diff 5:16
```

```ts title="never Example"
const ups = (a: never): never => {
  throw new Error("Didn't expect to reach here üò®");
}

const doSomethingSafer = (person: Person) => {
  switch (person.role) {
    case 'ADMIN':
      break;
    case 'PLAYER':
      break;
    case 'CLIENT':
      break;
    default:
      ups(person.role);
  }
}
```

</CodeSurfer>

---

### Error
<img src={neverError} />

---

# Todo termin√≥ se√±ores